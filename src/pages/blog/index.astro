---
import { getCollection } from "astro:content";
import ArchiveItem from "../../components/blog/archive-item.astro";
import BlogWrapper from "../../components/layouts/blog-wrapper.astro";

const blogEntries = await getCollection('blog', ({ data }) => {
    return !data.draft;
})
---

<BlogWrapper title="Nusabyte blog">
    <div class="divide-y divide-gray-200 dark:divide-gray-700">
        <div class="space-y-2 pt-6 pb-8 md:space-y-5">
            <h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-6xl md:leading-14">Latest</h1>
            <p class="text-lg leading-7 text-gray-500 dark:text-gray-400">A blog created with Next.js and Tailwind.css</p>
        </div>
        <ul class="divide-y divide-gray-200 dark:divide-gray-700">
            {blogEntries.map(entry => <ArchiveItem frontmatter={entry.data} slug={entry.slug} />)}
        </ul>
    </div>
</BlogWrapper>